{"title":"OFB & CFB","markdown":{"headingText":"OFB & CFB","headingAttr":{"id":"sec-Symmetric","classes":[],"keyvalue":[]},"containsRefs":false,"markdown":"\nThe next modes will convert our block cipher into stream cipher, with the key point is XOR the plaintext with unpredictable (to our advisaries). \n\n## OFB \n\nOutput Feedback (OFB) encrypts the Initialization Vector for the first time, and the previous encrypted version of it as the first XOR block. then, the plaintext block will be XOR-ed with this one. \n\n![OFB](/images/OFB.png)\n\nWe can formulate the process as: \n\nIf \"XOR block\" is $O$, plaintext is $P$, ciphertext is $C$:\n\n$$\n\\displaylines{O_0 = IV \\\\ O_i = E(O_{i-1}) \\\\ C_i = P_i \\oplus O_i \\\\ P_i = C_i \\oplus O_I}\n$$\n\nAs you can see, the ciphertext and plaintext are symmetric, due to symmetry properties of OFB. \n\n::: {.callout-note}\n## Spot\nCan you spot a weakness if the advisery know the ciphertext and the IV used in this ciphertext?\n:::\n\n## CFB \n\nCipher Feedback (CFB) is quite not the same with OFB, except it uses the ciphertext of previous block as input of current block. (In OFB, we use the previous block cipher output)\n\n![CFB_enc](/images/CFB_enc.png)\n\n![CFB_dec](/images/CFB_dec.png)\n\nAgain, we can formulate the process as: \n\n\n$$\n\\displaylines{C_0 = IV \\\\ C_i = P_i \\oplus E(C_{i-1}) \\\\ P_i = C_i \\oplus E(C_{i-1})}\n$$\n\n::: {.callout-tip}\nCan you try this version by yourself, using the snipset in two part above?\n:::\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":false,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"OFB_CFB.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.2.280","bibliography":["references.bib"],"jupyter":{"kernelspec":{"name":"sagemath","language":"sagemath","display_name":"SageMath 9.6"}},"theme":"cosmo"},"extensions":{"book":{"multiFile":true}}}}}